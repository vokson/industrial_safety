(function(e){function webpackJsonpCallback(t){for(var o,a,i=t[0],s=t[1],u=t[2],_=0,l=[];_<i.length;_++)a=i[_],Object.prototype.hasOwnProperty.call(n,a)&&n[a]&&l.push(n[a][0]),n[a]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o]);c&&c(t);while(l.length)l.shift()();return r.push.apply(r,u||[]),checkDeferredModules()}function checkDeferredModules(){for(var e,t=0;t<r.length;t++){for(var o=r[t],a=!0,i=1;i<o.length;i++){var c=o[i];0!==n[c]&&(a=!1)}a&&(r.splice(t--,1),e=__webpack_require__(__webpack_require__.s=o[0]))}return e}var t={},n={app:0},r=[];function __webpack_require__(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,__webpack_require__),r.l=!0,r.exports}__webpack_require__.m=e,__webpack_require__.c=t,__webpack_require__.d=function(e,t,n){__webpack_require__.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},__webpack_require__.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.t=function(e,t){if(1&t&&(e=__webpack_require__(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(__webpack_require__.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)__webpack_require__.d(n,r,function(t){return e[t]}.bind(null,r));return n},__webpack_require__.n=function(e){var t=e&&e.__esModule?function getDefault(){return e["default"]}:function getModuleExports(){return e};return __webpack_require__.d(t,"a",t),t},__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__webpack_require__.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],a=o.push.bind(o);o.push=webpackJsonpCallback,o=o.slice();for(var i=0;i<o.length;i++)webpackJsonpCallback(o[i]);var c=a;r.push([0,"chunk-vendors"]),checkDeferredModules()})({0:function(e,t,n){e.exports=n("56d7")},"1e53":function(e,t,n){},"2aa1":function(e,t,n){"use strict";n("5651")},5651:function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("e625"),n("3461");var r=n("7a23");function render(e,t,n,o,a,i){var c=Object(r["z"])("base-page");return Object(r["r"])(),Object(r["d"])(c)}var o={class:"container"};function BasePagevue_type_template_id_00ec05d8_render(e,t,n,a,i,c){var s=Object(r["z"])("router-view");return Object(r["r"])(),Object(r["d"])("div",o,[Object(r["g"])(s)])}var a={name:"BasePage",setup:function setup(){}},i=(n("e54d"),n("6b0d")),c=n.n(i);const s=c()(a,[["render",BasePagevue_type_template_id_00ec05d8_render]]);var u=s,_={components:{BasePage:u},name:"App",setup:function setup(){Object(r["t"])("questions",{}),Object(r["t"])("version","1.0.0")}};const l=c()(_,[["render",render]]);var p=l,d=n("6c02"),b=(n("d3b7"),n("25f0"),Object(r["F"])("data-v-c3f03d88"));Object(r["u"])("data-v-c3f03d88");var f={class:"page"},h={class:"page__container"},v={class:"page__listcontainer"},y={class:"page__managecontainer"},O={id:"test_counts"},m=Object(r["g"])("option",{value:"1",label:"1"},null,-1),j=Object(r["g"])("option",{value:"20",label:"20"},null,-1),g={class:"page__questioncontainer"},k={key:0,class:"page__servicecontainer"},w=Object(r["g"])("span",{class:"page__dropzonetitle"},"Вопросы (json)",-1);Object(r["s"])();var x=b((function(e,t,n,o,a,i){var c=Object(r["z"])("heading"),s=Object(r["z"])("btn"),u=Object(r["z"])("text-field"),_=Object(r["z"])("question-block"),l=Object(r["z"])("json-file-drop-zone");return Object(r["r"])(),Object(r["d"])("div",f,[Object(r["g"])(c,{class:"page__heading",text:"Самоподготовка к тестированию",size:"middle"}),Object(r["g"])("div",h,[Object(r["g"])("div",v,[Object(r["g"])("div",y,[o.is_test_active?(Object(r["r"])(),Object(r["d"])(s,{key:1,caption:"Завершить тест",type:"danger",onClick:t[2]||(t[2]=function(e){return o.handle_stop_test()})})):(Object(r["r"])(),Object(r["d"])(s,{key:0,caption:"Начать тест",type:"success",onClick:t[1]||(t[1]=function(e){return o.handle_start_test()})})),o.is_test_active?Object(r["e"])("",!0):(Object(r["r"])(),Object(r["d"])("input",{key:2,type:"range",list:"test_counts",value:o.count_of_questions_in_test,min:"1",max:o.total_count_of_questions,onChange:t[3]||(t[3]=function(e){return o.handle_count_of_questions_changed(e.target.valueAsNumber)})},null,40,["value","max"])),Object(r["g"])("datalist",O,[m,j,Object(r["g"])("option",{value:o.total_count_of_questions,label:o.total_count_of_questions},null,8,["value","label"])]),Object(r["g"])(u,{value:"Тест из "+o.count_of_questions_in_test+" вопросов. Всего загружено вопросов: "+o.total_count_of_questions+". Прогресс ("+o.active_question_id.toString()+"/"+o.count_of_questions_in_test.toString()+"). Допущено ошибок "+o.count_of_errors,align:"left"},null,8,["value"])]),Object(r["g"])("div",g,[o.is_test_active&&null!==o.active_question?(Object(r["r"])(),Object(r["d"])(_,{key:0,id:o.active_question.value.id,question:o.active_question.value.question,answers:o.active_question.value.answers,"onUser:replied":t[4]||(t[4]=function(e){return o.handle_user_replied(e)})},null,8,["id","question","answers"])):Object(r["e"])("",!0)])]),o.is_test_active?Object(r["e"])("",!0):(Object(r["r"])(),Object(r["d"])("div",k,[Object(r["g"])(l,{class:["page__docdropzone",{page__docdropzone_dragging:o.is_drag_above_drop_zone}],"onUpdate:dragging":t[5]||(t[5]=function(e){return o.is_drag_above_drop_zone=e}),"onUpdate:json":t[6]||(t[6]=function(e){return o.handle_new_questions_drop(e)}),default:[]},{default:b((function(){return[w]})),_:1},8,["class"])]))])])})),q=(n("a630"),n("3ca3"),n("fb6a"),n("159b"),n("262e")),E=n("2caf"),R=n("2909"),B=n("d4ec"),S=n("ade3"),N=n("bee2"),U=n("9072"),F=(n("e9c4"),n("a15b"),n("b64b"),n("4de4"),n("d81d"),function(e){Object(q["a"])(NotImplementedError,e);var t=Object(E["a"])(NotImplementedError);function NotImplementedError(){return Object(B["a"])(this,NotImplementedError),t.apply(this,arguments)}return NotImplementedError}(Object(U["a"])(Error))),z=function(){function AbstractBaseRepository(){Object(B["a"])(this,AbstractBaseRepository)}return Object(N["a"])(AbstractBaseRepository,[{key:"_deep_copy",value:function _deep_copy(e){return JSON.parse(JSON.stringify(e))}},{key:"_create_name",value:function _create_name(e){var t=Array.isArray(e)?e.join():e;return t}},{key:"_set",value:function _set(){throw new F('"set" method has not been implemented')}},{key:"_get",value:function _get(){throw new F('"get" method has not been implemented')}},{key:"_delete",value:function _delete(){throw new F('"delete" method has not been implemented')}},{key:"_add_key",value:function _add_key(){throw new F('"add_key" method has not been implemented')}},{key:"_remove_key",value:function _remove_key(){throw new F('"remove_key" method has not been implemented')}},{key:"_keys",value:function _keys(){throw new F('"keys" method has not been implemented')}},{key:"_values",value:function _values(){throw new F('"values" method has not been implemented')}},{key:"_pure_keys",value:function _pure_keys(){throw new F('"pure keys" method has not been implemented')}},{key:"_keys_box",value:function _keys_box(){throw new F('"keys box" method has not been implemented')}},{key:"_values_box",value:function _values_box(){throw new F('"values box" method has not been implemented')}},{key:"_pure_keys_box",value:function _pure_keys_box(){throw new F('"pure keys box" method has not been implemented')}},{key:"_set_box",value:function _set_box(){throw new F('"set_box" method has not been implemented')}},{key:"_get_box",value:function _get_box(){throw new F('"get_box" method has not been implemented')}},{key:"_delete_box",value:function _delete_box(){throw new F('"delete_box" method has not been implemented')}},{key:"_add_box_key",value:function _add_box_key(){throw new F('"add_box_key" method has not been implemented')}},{key:"_remove_box_key",value:function _remove_box_key(){throw new F('"remove_box_key" method has not been implemented')}}]),AbstractBaseRepository}(),P=function(e){Object(q["a"])(VueBaseRepository,e);var t=Object(E["a"])(VueBaseRepository);function VueBaseRepository(e){var n;return Object(B["a"])(this,VueBaseRepository),n=t.call(this),n._properties=Object(r["k"])(e),n}return Object(N["a"])(VueBaseRepository,[{key:"_reset",value:function _reset(){var e=this;Object.keys(this._properties).forEach((function(t){delete e._properties[t]}))}},{key:"_set",value:function _set(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=e.toString();Object.prototype.hasOwnProperty.call(this._properties,o)?this._properties[o].value=t:this._properties[o]=Object(r["w"])(t),n&&this._add_key(o)}},{key:"_get",value:function _get(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return Object.prototype.hasOwnProperty.call(this._properties,e)||this._set(e,this._deep_copy(t),!1),this._properties[e]}},{key:"_delete",value:function _delete(e){var t=e.toString();this._set(t,null),this._remove_key(t)}},{key:"_add_key",value:function _add_key(e){Object.prototype.hasOwnProperty.call(this._properties,"__KEYS__")||(this._properties["__KEYS__"]=Object(r["w"])([]));var t=this._get("__KEYS__");-1===t.value.indexOf(e)&&t.value.push(e)}},{key:"_remove_key",value:function _remove_key(e){Object.prototype.hasOwnProperty.call(this._properties,"__KEYS__")&&(this._properties["__KEYS__"].value=this._properties["__KEYS__"].value.filter((function(t){return t!==e})))}},{key:"_keys",value:function _keys(){return this._get("__KEYS__",[])}},{key:"_pure_keys",value:function _pure_keys(){var e=this._keys();return Object(r["l"])(e)?e.value:e}},{key:"_values",value:function _values(){var e=this;return this._keys().value.map((function(t){return e._get(t)}))}},{key:"_keys_box",value:function _keys_box(e){var t=this._create_name(["BOX",e,"__KEYS__"]);return this._get(t,[])}},{key:"_pure_keys_box",value:function _pure_keys_box(e){var t=this._keys_box(e);return Object(r["l"])(t)?t.value:t}},{key:"_values_box",value:function _values_box(e){var t=this;return this._keys_box(e).value.map((function(n){return t._get_box(e,n)}))}},{key:"_set_box",value:function _set_box(e,t,n){var r=this._create_name(["BOX",e,t]);this._set(r,n,!1),this._add_box_key(e,t.toString())}},{key:"_get_box",value:function _get_box(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=this._create_name(["BOX",e,t]);return this._get(r,n)}},{key:"_delete_box",value:function _delete_box(e,t){var n=this._create_name(["BOX",e,t]);this._delete(n),this._remove_box_key(e,t.toString())}},{key:"_add_box_key",value:function _add_box_key(e,t){var n=this._create_name(["BOX",e,"__KEYS__"]);Object.prototype.hasOwnProperty.call(this._properties,n)||(this._properties[n]=Object(r["w"])([]));var o=this._get(n);-1===o.value.indexOf(t)&&o.value.push(t)}},{key:"_remove_box_key",value:function _remove_box_key(e,t){var n=this._create_name(["BOX",e,"__KEYS__"]);Object.prototype.hasOwnProperty.call(this._properties,n)&&(this._properties[n].value=this._properties[n].value.filter((function(e){return e!==t})))}}]),VueBaseRepository}(z),D={reset:function reset(){this._reset()},get:function get(e){return this._get(e)},set:function set(e,t){return this._set(e,t)},delete:function _delete(e){return this._delete(e)},keys:function keys(){return this._keys()},pure_keys:function pure_keys(){return this._pure_keys()},values:function values(){return this._values()}},Q=function(e){Object(q["a"])(VueFlatRepository,e);var t=Object(E["a"])(VueFlatRepository);function VueFlatRepository(){return Object(B["a"])(this,VueFlatRepository),t.apply(this,arguments)}return VueFlatRepository}(P);Object.assign(P.prototype,D);var V={},A=function(e){Object(q["a"])(VueQuestionRepository,e);var t=Object(E["a"])(VueQuestionRepository);function VueQuestionRepository(){return Object(B["a"])(this,VueQuestionRepository),t.apply(this,arguments)}return VueQuestionRepository}(Q);Object.assign(A.prototype,V);var I=n("257e"),T=(n("99af"),n("7329")),M=n.n(T),C=function(e){Object(q["a"])(NotImplementedError,e);var t=Object(E["a"])(NotImplementedError);function NotImplementedError(){return Object(B["a"])(this,NotImplementedError),t.apply(this,arguments)}return NotImplementedError}(Object(U["a"])(Error)),W=function AbstractNotificator(){Object(B["a"])(this,AbstractNotificator),Object(S["a"])(this,"success",(function(){throw new C})),Object(S["a"])(this,"info",(function(){throw new C})),Object(S["a"])(this,"warning",(function(){throw new C})),Object(S["a"])(this,"error",(function(){throw new C}))},J=function(e){Object(q["a"])(NotyNotificator,e);var t=Object(E["a"])(NotyNotificator);function NotyNotificator(){var e;return Object(B["a"])(this,NotyNotificator),e=t.call(this),Object(S["a"])(Object(I["a"])(e),"do",(function(t,n){new M.a(Object.assign(e.default,{type:t,text:n})).show()})),Object(S["a"])(Object(I["a"])(e),"success",(function(t){e.do("success",t)})),Object(S["a"])(Object(I["a"])(e),"info",(function(t){e.do("info",t)})),Object(S["a"])(Object(I["a"])(e),"warning",(function(t){e.do("warning",t)})),Object(S["a"])(Object(I["a"])(e),"error",(function(t){e.do("error",t)})),e.default={layout:"topRight",theme:"relax",timeout:"3000",progressBar:!1},e}return NotyNotificator}(W),K=function AbstractUnitOfWork(){var e=this;Object(B["a"])(this,AbstractUnitOfWork),Object(S["a"])(this,"collect_new_messages",(function(){var t=Object(R["a"])(e.messages);return e.messages=[],t})),Object(S["a"])(this,"push_message",(function(t){e.messages.push(t)})),this.messages=[]},Y=function(e){Object(q["a"])(VueUnitOfWork,e);var t=Object(E["a"])(VueUnitOfWork);function VueUnitOfWork(){var e;return Object(B["a"])(this,VueUnitOfWork),e=t.call(this),e.notificator=new J,e.question_repository=new A("questions"),e}return VueUnitOfWork}(K),$=n("1da1"),X=(n("96cf"),n("ddb0"),n("b0c0"),function Command(){Object(B["a"])(this,Command)}),H=function(e){Object(q["a"])(Notify,e);var t=Object(E["a"])(Notify);function Notify(e,n){var r;return Object(B["a"])(this,Notify),r=t.call(this),r.level=e,r.text=n,r}return Notify}(X),Z=function(e){Object(q["a"])(DropQuestions,e);var t=Object(E["a"])(DropQuestions);function DropQuestions(){return Object(B["a"])(this,DropQuestions),t.apply(this,arguments)}return DropQuestions}(X),G=function(e){Object(q["a"])(AddQuestion,e);var t=Object(E["a"])(AddQuestion);function AddQuestion(e,n,r){var o;return Object(B["a"])(this,AddQuestion),o=t.call(this),o.id=e,o.question=n,o.answers=r,o}return AddQuestion}(X),L=function Event(){Object(B["a"])(this,Event)},ee=function(e){Object(q["a"])(UserRepliedSuccess,e);var t=Object(E["a"])(UserRepliedSuccess);function UserRepliedSuccess(){return Object(B["a"])(this,UserRepliedSuccess),t.apply(this,arguments)}return UserRepliedSuccess}(L),te=function(e){Object(q["a"])(UserRepliedFail,e);var t=Object(E["a"])(UserRepliedFail);function UserRepliedFail(){return Object(B["a"])(this,UserRepliedFail),t.apply(this,arguments)}return UserRepliedFail}(L),ne=function(e){Object(q["a"])(UploadFileError,e);var t=Object(E["a"])(UploadFileError);function UploadFileError(e){var n;return Object(B["a"])(this,UploadFileError),n=t.call(this),n.filename=e,n}return UploadFileError}(L),re=function(e){Object(q["a"])(WrongErrorType,e);var t=Object(E["a"])(WrongErrorType);function WrongErrorType(){return Object(B["a"])(this,WrongErrorType),t.apply(this,arguments)}return WrongErrorType}(Object(U["a"])(Error)),oe=function notify(e,t){var n={success:t.notificator.success,warning:t.notificator.warning,info:t.notificator.info,error:t.notificator.error};if(!Object.prototype.hasOwnProperty.call(n,e.level))throw new re('Wrong error type "'+e.level+'"');n[e.level](e.text)},ae=function drop_questions(e,t){t.question_repository.reset()},ie=function add_question(e,t){t.question_repository.set(e.id,e)},ce=function handle_upload_file_error(e,t){t.push_message(new H("error","Ошибка загрузки файла ".concat(e.filename)))},se=function handle_user_replied_success(e,t){t.push_message(new H("success","Правильно"))},ue=function handle_user_replied_fail(e,t){t.push_message(new H("error","Неверно"))},_e={Notify:[oe],DropQuestions:[ae],AddQuestion:[ie]},le={UploadFileError:[ce],UserRepliedSuccess:[se],UserRepliedFail:[ue]},pe=function(e){Object(q["a"])(NotImplementedError,e);var t=Object(E["a"])(NotImplementedError);function NotImplementedError(){return Object(B["a"])(this,NotImplementedError),t.apply(this,arguments)}return NotImplementedError}(Object(U["a"])(Error)),de=function(){function MessageBus(){Object(B["a"])(this,MessageBus)}return Object(N["a"])(MessageBus,null,[{key:"handle",value:function(){var e=Object($["a"])(regeneratorRuntime.mark((function _callee2(e,t){var n,r,o,a=this;return regeneratorRuntime.wrap((function _callee2$(i){while(1)switch(i.prev=i.next){case 0:n=[e];case 1:if(0!==n.length){i.next=4;break}return i.abrupt("break",11);case 4:return r=function(){var e=Object($["a"])(regeneratorRuntime.mark((function _callee(e){var r,o;return regeneratorRuntime.wrap((function _callee$(i){while(1)switch(i.prev=i.next){case 0:if(!(e instanceof X)){i.next=5;break}return i.next=3,a.handle_command(e,t);case 3:r=i.sent,n=n.concat(r);case 5:if(!(e instanceof L)){i.next=10;break}return i.next=8,a.handle_event(e,t);case 8:o=i.sent,n=n.concat(o);case 10:case"end":return i.stop()}}),_callee)})));return function handle_function(t){return e.apply(this,arguments)}}(),o=n.map(r),n=[],i.next=9,Promise.all(o);case 9:i.next=1;break;case 11:case"end":return i.stop()}}),_callee2)})));function handle(t,n){return e.apply(this,arguments)}return handle}()},{key:"handle_command",value:function(){var e=Object($["a"])(regeneratorRuntime.mark((function _callee4(e,t){var n,r,o,a;return regeneratorRuntime.wrap((function _callee4$(i){while(1)switch(i.prev=i.next){case 0:if(n=[],Object.prototype.hasOwnProperty.call(_e,e.constructor.name)){i.next=3;break}throw new pe('There is no handler for command "'+e.constructor.name+'"');case 3:return r=_e[e.constructor.name],o=function(){var r=Object($["a"])(regeneratorRuntime.mark((function _callee3(r){var o;return regeneratorRuntime.wrap((function _callee3$(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,r(e,t);case 3:o=t.collect_new_messages(),n=n.concat(o),a.next=10;break;case 7:a.prev=7,a.t0=a["catch"](0),console.log('Exception "'+a.t0.toString()+'" handling command "'+e.constructor.name+'"');case 10:case"end":return a.stop()}}),_callee3,null,[[0,7]])})));return function handle_function(e){return r.apply(this,arguments)}}(),a=r.map(o),i.next=8,Promise.all(a);case 8:return i.abrupt("return",n);case 9:case"end":return i.stop()}}),_callee4)})));function handle_command(t,n){return e.apply(this,arguments)}return handle_command}()},{key:"handle_event",value:function(){var e=Object($["a"])(regeneratorRuntime.mark((function _callee6(e,t){var n,r,o,a;return regeneratorRuntime.wrap((function _callee6$(i){while(1)switch(i.prev=i.next){case 0:if(n=[],Object.prototype.hasOwnProperty.call(le,e.constructor.name)){i.next=3;break}throw new pe('There is no handler for event "'+e.constructor.name+'"');case 3:return r=le[e.constructor.name],o=function(){var r=Object($["a"])(regeneratorRuntime.mark((function _callee5(r){var o;return regeneratorRuntime.wrap((function _callee5$(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,r(e,t);case 3:o=t.collect_new_messages(),n=n.concat(o),a.next=10;break;case 7:a.prev=7,a.t0=a["catch"](0),console.log('Exception "'+a.t0.toString()+'" handling event "'+e.constructor.name+'"');case 10:case"end":return a.stop()}}),_callee5,null,[[0,7]])})));return function handle_function(e){return r.apply(this,arguments)}}(),a=r.map(o),i.next=8,Promise.all(a);case 8:return i.abrupt("return",n);case 9:case"end":return i.stop()}}),_callee6)})));function handle_event(t,n){return e.apply(this,arguments)}return handle_event}()}]),MessageBus}();function Headingvue_type_template_id_11bcbb8c_render(e,t,n,o,a,i){return Object(r["r"])(),Object(r["d"])("p",{class:["heading",{heading_big:"big"===n.size,heading_middle:"middle"===n.size,heading_small:"small"===n.size}]},Object(r["B"])(n.text),3)}var be={name:"Heading",props:{text:{type:String,required:!0},size:{type:String,required:!0}}};n("2aa1");const fe=c()(be,[["render",Headingvue_type_template_id_11bcbb8c_render]]);var he=fe;function JsonFileDropZonevue_type_template_id_058fa388_render(e,t,n,o,a,i){return Object(r["r"])(),Object(r["d"])("div",{class:"jsonfiledropzone",onDrop:t[1]||(t[1]=Object(r["E"])((function(e){return o.handleDrop(e)}),["prevent"])),onDragover:t[2]||(t[2]=Object(r["E"])((function(){}),["prevent"])),onDragenter:t[3]||(t[3]=Object(r["E"])((function(e){return o.is_dragging=!0}),["prevent"])),onDragleave:t[4]||(t[4]=Object(r["E"])((function(e){return o.is_dragging=!1}),["prevent"]))},[Object(r["y"])(e.$slots,"default")],32)}var ve={name:"JsonFileDropZone",props:{default:{required:!1,default:null}},emits:["update:json","update:dragging"],setup:function setup(e,t){var n=t.emit,o=Object(r["w"])(!1),a=new Y,i=function(){var t=Object($["a"])(regeneratorRuntime.mark((function _callee2(t){return regeneratorRuntime.wrap((function _callee2$(r){while(1)switch(r.prev=r.next){case 0:o.value=!1,t.dataTransfer.files.forEach(function(){var t=Object($["a"])(regeneratorRuntime.mark((function _callee(t){var r,o,i;return regeneratorRuntime.wrap((function _callee$(c){while(1)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,t.text();case 3:r=c.sent,o=JSON.parse(r),n("update:json",o),c.next=13;break;case 8:c.prev=8,c.t0=c["catch"](0),i=new ne(t.name),de.handle(i,a),n("update:json",e.default);case 13:case"end":return c.stop()}}),_callee,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return r.stop()}}),_callee2)})));return function handleDrop(e){return t.apply(this,arguments)}}();return Object(r["D"])(o,(function(e,t){e!==t&&n("update:dragging",e)})),{handleDrop:i,is_dragging:o}}};const ye=c()(ve,[["render",JsonFileDropZonevue_type_template_id_058fa388_render]]);var Oe=ye;function Btnvue_type_template_id_16dbd360_render(e,t,n,o,a,i){return Object(r["r"])(),Object(r["d"])("button",{class:["btn",{btn_primary:"primary"===n.type,btn_secondary:"secondary"===n.type,btn_success:"success"===n.type,btn_warning:"warning"===n.type,btn_danger:"danger"===n.type,btn_disabled:!0===n.disabled,btn_small:"small"===n.size,btn_middle:"middle"===n.size,btn_big:"big"===n.size}],disabled:n.disabled},Object(r["B"])(n.caption),11,["disabled"])}var me={name:"Btn",props:{caption:{type:String,required:!0},type:{type:String,required:!0},disabled:{type:Boolean,required:!1,default:!1},size:{type:String,required:!1,default:"middle"}}};n("bc4b");const je=c()(me,[["render",Btnvue_type_template_id_16dbd360_render]]);var ge=je;function TextFieldvue_type_template_id_2408772f_render(e,t,n,o,a,i){return Object(r["r"])(),Object(r["d"])("span",{class:["textfield",{textfield_left:"left"===n.align,textfield_right:"right"===n.align,textfield_center:"center"===n.align}]},Object(r["B"])(n.value),3)}var ke={name:"TextField",props:{value:{type:String,required:!0},align:{type:String,required:!1,default:"center"}}};n("afc6");const we=c()(ke,[["render",TextFieldvue_type_template_id_2408772f_render]]);var xe=we,qe={class:"questionblock"},Ee={class:"questionblock__text"},Re={class:"questionblock__buttons"};function QuestionBlockvue_type_template_id_90132538_render(e,t,n,o,a,i){var c=Object(r["z"])("btn");return Object(r["r"])(),Object(r["d"])("div",qe,[Object(r["g"])("span",Ee,Object(r["B"])(n.id)+") "+Object(r["B"])(n.question),1),(Object(r["r"])(!0),Object(r["d"])(r["a"],null,Object(r["x"])(n.answers,(function(e){return Object(r["r"])(),Object(r["d"])("div",{class:"questionblock__answers",key:e.id},[Object(r["g"])("div",{class:["questionblock__rowanswer",{questionblock__rowanswer_correct:o.show_correct_answer&&e.is_correct}]},[Object(r["g"])("input",{type:"checkbox",onChange:function onChange(t){return o.replies[e.id]=!o.replies[e.id]},checked:o.replies[e.id]},null,40,["onChange","checked"]),Object(r["f"])(Object(r["B"])(e.text),1)],2)])})),128)),Object(r["g"])("div",Re,[Object(r["g"])(c,{class:"questionblock__button",caption:"Ответить",type:"primary",onClick:t[1]||(t[1]=function(e){return o.handle_check_reply()})}),Object(r["g"])(c,{class:"questionblock__button",caption:!0===o.show_correct_answer?"Скрыть ответы":"Показать ответы",type:"warning",onClick:t[2]||(t[2]=function(e){return o.show_correct_answer=!o.show_correct_answer})},null,8,["caption"])])])}n("a9e3");var Be={components:{Btn:ge},name:"QuestionBlock",props:{id:{type:Number,required:!0},question:{type:String,required:!0},answers:{type:Array,required:!0}},emits:["user:replied"],setup:function setup(e,t){var n=t.emit,o=Object(r["w"])(!1),a=Object(r["w"])({}),i=function reset_replies(){a.value={},e.answers.forEach((function(e){a.value[e.id]=!1}))};Object(r["D"])((function(){return e.id}),(function(){o.value=!1,i()}));var c=Object(r["b"])((function(){var t=!0;return e.answers.forEach((function(e){e.is_correct!==a.value[e.id]&&(t=!1)})),t})),s=function handle_check_reply(){n("user:replied",c.value)};return Object(r["p"])((function(){i()})),{show_correct_answer:o,replies:a,handle_check_reply:s}}};n("d9b9");const Se=c()(Be,[["render",QuestionBlockvue_type_template_id_90132538_render]]);var Ne=Se,Ue={components:{Heading:he,JsonFileDropZone:Oe,Btn:ge,TextField:xe,QuestionBlock:Ne},name:"TestPage",setup:function setup(){function shuffle(e){var t,n,r=e.length;while(r)n=Math.floor(Math.random()*r--),t=e[r],e[r]=e[n],e[n]=t;return e}var e=new Y,t=e.question_repository,n=Object(r["w"])(!1),o=Object(r["w"])(0),a=Object(r["w"])(0),i=Object(r["w"])(0),c=Object(r["w"])([]),s=Object(r["w"])(0);Object(r["D"])((function(){return i.value}),(function(){i.value>=a.value&&l()}));var u=Object(r["b"])((function(){return 0===c.value.length||i.value>=a.value?null:t.get(c.value[i.value])})),_=function handle_start_test(){if(a.value<=o.value){var e=Array.from({length:o.value},(function(e,t){return t+1})),t=shuffle(e);c.value=t.slice(0,a.value),i.value=0,s.value=0,n.value=!0}},l=function handle_stop_test(){n.value=!1},p=function handle_user_replied(t){!0===t?(de.handle(new ee,e),i.value++):(de.handle(new te,e),s.value++)},d=function handle_new_questions_drop(t){de.handle(new Z,e),t.forEach((function(t){de.handle(new G(t.question.id,t.question.text,t.answers),e)})),o.value=t.length},b=function handle_count_of_questions_changed(e){a.value=e},f=Object(r["w"])(!1);return{is_test_active:n,count_of_questions_in_test:a,total_count_of_questions:o,active_question_id:i,active_question:u,chosen_questions:c,count_of_errors:s,handle_start_test:_,handle_stop_test:l,handle_new_questions_drop:d,handle_user_replied:p,handle_count_of_questions_changed:b,is_drag_above_drop_zone:f}}};n("ac15");const Fe=c()(Ue,[["render",x],["__scopeId","data-v-c3f03d88"]]);var ze=Fe,Pe=[{path:"/",name:"TestPage",component:ze}],De=Object(d["a"])({history:Object(d["b"])("/"),routes:Pe}),Qe=De;Object(r["c"])(p).use(Qe).mount(".app")},"5db6":function(e,t,n){},6105:function(e,t,n){},"7c2e":function(e,t,n){},8420:function(e,t,n){},ac15:function(e,t,n){"use strict";n("1e53")},afc6:function(e,t,n){"use strict";n("6105")},bc4b:function(e,t,n){"use strict";n("7c2e")},d9b9:function(e,t,n){"use strict";n("5db6")},e54d:function(e,t,n){"use strict";n("8420")}});
//# sourceMappingURL=app.037a21b6.js.map